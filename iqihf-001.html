<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Timothy Malcham</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href='https://fonts.googleapis.com/css?family=Merriweather:400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="style/style.css">
</head>
<body>
<div class="container">
  <h1 class="title">Interview Questions I've Failed, 001 (JavaScript Scope)</h1>

  <p>
    I'm writing a series of posts on questions I've been asked during interviews
    that I did not answer correctly, or I may have stumbled through the question
    without having a full understanding of the answer. I'll be reviewing the
    question asked and provide the correct answer and why it is correct. My hope
    is to have a deeper understanding of the concept the interview question was
    based around, and hopefully help someone else out in the process.
  </p>
  <p>
    This first question isn't one I really 'failed', per se. I got through about
    75% of the question and tripped over a few parts of it. The question was all
    about scope in JavaScript, which is super important to have a solid grasp of
    if you write JavaScript regurarly, so I wanted to go back and make sure I really
    understood each part of the question well.
  </p>

  <p class="title">The Question:</p>

  <p>
    Given this block of code, when it is run, what will each <code>console.log</code>
    statement print out?
  </p>

  <pre><code data-language="javascript">(function() {

  var x = 1;

  function test() {
    console.log('First log statement: ', x);
    x = 2;
  }

  (function(x) {
    x = 3;
    console.log('Second log statement:', x);
    test();
    console.log('Third log statement:', x);
  }(x));

  console.log('Fourth log statement:', x);

  (function() {
    console.log('Fifth log statement:', x);
    var x = 4;
    console.log('Sixth log statement:', x);
  }());

  console.log('Seventh log statement:', x);

}());</code></pre>

  <p>
    If you run this code in your browser's developer tools console, you will get
    this output:
  </p>

  <code><pre>
  Second log statement: 3
  First log statement: 1
  Third log statement: 3
  Fourth log statement: 2
  Fifth log statement: undefined
  Sixth log statement: 4
  Seventh log statement: 2</pre></code>

  <p>
    Let’s go through this line by line and learn why we get this output.
  </p>

  <p>
    One note before we get started talking about scope. You might notice that
    some of the above functions look a bit strange, like this:
  </p>

  <pre><code data-language="javascript">(function(x) {
  // function code goes here…
}(x));</code></pre>

  <p>
    These are Immediately-Invoked Function Expressions or IIFEs. They're a bit
    self explanatory, they are functions that run (get invoked) immediately as
    soon as the parser reaches it when your program is getting executed. This
    unlike a function that gets declared and then called later on. Both happens at
    the same time with IIFEs. But like other ways of creating a function, IIFEs
    still create a new execution context, which defines a scope for variables
    and other functions to live in.
  </p>

  <p class="title">Line 1</p>

  <pre><code data-language="javascript">(function() {</code></pre>

  <p>
    Let’s get started on the actual question though. On line 1, we have an IIFE
    that encapsulates our entire program, creating an execution context for
    everything else to live inside of. Simple enough, let's move on.
  </p>

  <p class="title">Line 3</p>

  <pre><code data-language="javascript">var x = 1;</code></pre>

  <p>
    A variable is declared, and a value of <code>1</code> is assigned to it.
    Nothing super exciting yet, but the real action starts soon.
  </p>

  <p class="title">Line 5</p>

  <pre><code data-language="javascript">function test() {</code></pre>

  <p>
    A function is declared within the IIFE. We call it test and pass no arguments
    to it. We have another JS concept to introduce, which happens to be a very
    important part of the language – <i>closures</i>.
  </p>

  <p>
    A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">
    closure</a> is a function that gets declared within the scope (execution context)
    of another function. A closure gets access to variables that were declared
    within the scope of its parent. The fact that inner functions get access to
    their parent's variables is a powerful part of JS, so I'd recommend learning
    <a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-closure-b2f0d2152b36#.gl5jqubrk">
    more about it.</a>
  </p>





<!--   <h2 class="title">Blog</h2>
  <i>Coming Soon …</i> -->

  <script src="js/rainbow.min.js"></script>

</div>
</body>
</html>